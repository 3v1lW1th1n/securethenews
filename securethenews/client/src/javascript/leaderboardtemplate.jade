- var iconClass = "fa-caret-" + (state.order == "desc" ? "down" : "up");
.leaderboard
  table
    thead
      tr.leaderboard-row
        th
        th.desktop-only
          .inline-block.align-middle Valid HTTPS
        th.desktop-only
          .inline-block.align-middle Available Over HTTPS
        th.desktop-only
          .inline-block.align-middle Defaults to HTTPS
        th.desktop-only
          .inline-block.align-middle HSTS
        th.desktop-only
          .inline-block.align-middle HSTS Preloaded
        th.sort-control(data-sort-key='score')
          .inline-block.align-middle Grade
          if state.orderBy == 'score'
            i.sort-icon.fa(class=iconClass)
    tbody
      for item in items
        tr.leaderboard-row
          td
            a(href=item.slug)= item.name
          td.desktop-only
            i.fa(class='#{ item.valid_https ? "fa-check grade-a" : "fa-close grade-f" }')
          td.desktop-only
            i.fa(class='#{ item.valid_https && !item.downgrades_https ? "fa-check grade-a" : "fa-close grade-f" }')
          td.desktop-only
            i.fa(class='#{ item.defaults_to_https ? "fa-check grade-a" : "fa-close grade-f" }')
          td.desktop-only
            i.fa(class='#{ item.hsts ? "fa-check grade-a" : "fa-close grade-f" }')
          td.desktop-only
            i.fa(class='#{ item.hsts_preloaded ? "fa-check grade-a" : "fa-close grade-f" }')
          td
            // NOTE: This logic is duplicated in /home/templatetags/site_tags.py
            // If you update it here remember to make the corresponding change there.
            if (item.score > 80)
              span(class="grade grade-a")= "A"
            else if (item.score > 60)
              span(class="grade grade-b")= "B"
            else if (item.score > 40)
              span(class="grade grade-c")= "C"
            else if (item.score > 20)
              span(class="grade grade-d")= "D"
            else
              span(class="grade grade-f")= "F"
